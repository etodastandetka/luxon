# –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã MobCash –≤—Ä—É—á–Ω—É—é

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

MobCash API —Ç—Ä–µ–±—É–µ—Ç `client_secret` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–º–µ–Ω–∞ authorization code –Ω–∞ access token. –ë–µ–∑ `client_secret` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤—Ä—É—á–Ω—É—é –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞, –∫–æ–≥–¥–∞ –æ–Ω–∏ –∏—Å—Ç–µ–∫–∞—é—Ç.

## üìã –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ https://app.mob-cash.com –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
2. **–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É** —Å –≤–∞—à–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools** (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Network**
4. **–ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å** –∫ `/api/` —Å –º–µ—Ç–æ–¥–æ–º `mobile.login` –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å –∫ API
5. **–í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–∞** –Ω–∞–π–¥–∏—Ç–µ:
   - `Authorization: Bearer ory_at_...` ‚Üí —ç—Ç–æ `MOBCASH_BEARER_TOKEN`
6. **–í —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ (Request Payload)** –Ω–∞–π–¥–∏—Ç–µ:
   - `userID: "..."` ‚Üí —ç—Ç–æ `MOBCASH_USER_ID`
   - `sessionID: "..."` ‚Üí —ç—Ç–æ `MOBCASH_SESSION_ID`

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ .env:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
   ```bash
   nano /var/www/luxon/admin_nextjs/.env
   ```

2. **–û–±–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã**:
   ```env
   MOBCASH_BEARER_TOKEN="ory_at_–ù–û–í–´–ô_–¢–û–ö–ï–ù"
   MOBCASH_USER_ID="–ù–û–í–´–ô_USER_ID"
   MOBCASH_SESSION_ID="–ù–û–í–´–ô_SESSION_ID"
   ```

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª** (Ctrl+O, Enter, Ctrl+X)

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å**:
   ```bash
   pm2 restart nextjs-admin
   ```

## ‚è∞ –ö–∞–∫ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω—ã?

–¢–æ–∫–µ–Ω—ã –æ–±—ã—á–Ω–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤ –∏–ª–∏ –¥–Ω–µ–π. –û–±–Ω–æ–≤–ª—è–π—Ç–µ –∏—Ö, –∫–æ–≥–¥–∞:
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `401 Unauthorized`
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ "Token expired"

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–±—É–¥—É—â–µ–µ)

–ï—Å–ª–∏ MobCash API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç `client_secret` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç OAuth2 flow, —Å–∏—Å—Ç–µ–º–∞ —Å–º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω—ã. –ü–æ–∫–∞ —á—Ç–æ —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ `client_secret`.

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ —É–≤–µ–¥–æ–º–ª—è—Ç—å –≤–∞—Å, –∫–æ–≥–¥–∞ –æ–Ω–∏ –∏—Å—Ç–µ–∫—É—Ç, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∏—Ö –≤—Ä—É—á–Ω—É—é.

