# üö® –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

## –û—à–∏–±–∫–∞
```
The column requests.source does not exist in the current database
```

## ‚ö° –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –°–ï–ô–ß–ê–° –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh your-server

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/luxon/admin_nextjs

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é Prisma (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–±):

# –°–ø–æ—Å–æ–± –ê: Prisma db push (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)
npx prisma db push

# –ò–õ–ò –°–ø–æ—Å–æ–± –ë: Prisma migrate deploy
npx prisma migrate deploy

# –ò–õ–ò –°–ø–æ—Å–æ–± –í: –ü—Ä—è–º–æ–π SQL (–µ—Å–ª–∏ Prisma –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
psql $DATABASE_URL -c "ALTER TABLE requests ADD COLUMN IF NOT EXISTS source VARCHAR(20);"

# 4. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ Prisma –∫–ª–∏–µ–Ω—Ç
npx prisma generate

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–¥–º–∏–Ω–∫—É
pm2 restart luxon-admin
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞
psql $DATABASE_URL -c "\d requests" | grep source

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: source | character varying(20) | 
```

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–ú–∏–≥—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ **–î–û** —Ç–æ–≥–æ, –∫–∞–∫ –±–æ—Ç –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É —Å –ø–æ–ª–µ–º `source`. 
–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –æ—à–∏–±–∫–∞ –∏—Å—á–µ–∑–Ω–µ—Ç.

