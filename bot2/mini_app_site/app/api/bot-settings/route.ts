import { NextRequest, NextResponse } from 'next/server';

export async function GET() {
  try {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    const settings = {
      success: true,
      data: {
        is_active: true,
        maintenance_message: 'üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã\n–ë–æ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.',
        deposits_enabled: true,
        withdrawals_enabled: true,
        channel_subscription_required: false,
        channel_username: '',
        enabled_deposit_banks: ['mbank', 'bakai', 'balance', 'demir', 'omoney', 'megapay'],
        enabled_withdrawal_banks: ['kompanion', 'odengi', 'bakai', 'balance', 'megapay', 'mbank']
      }
    };

    return NextResponse.json(settings);
  } catch (error) {
    console.error('Error in bot-settings API:', error);
    return NextResponse.json(
      { success: false, error: 'Internal server error' },
      { status: 500 }
    );
  }
}

export async function POST(request: NextRequest) {
  try {
    const body = await request.json();
    console.log('Bot settings update:', body);
    
    // –í –¥–µ–º–æ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —É—Å–ø–µ—Ö
    return NextResponse.json({
      success: true,
      message: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (–¥–µ–º–æ —Ä–µ–∂–∏–º)'
    });
  } catch (error) {
    console.error('Error saving bot settings:', error);
    return NextResponse.json(
      { success: false, error: 'Internal server error' },
      { status: 500 }
    );
  }
}