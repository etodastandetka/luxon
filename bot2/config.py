#!/usr/bin/env python3
"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –±–æ—Ç–∞ v2
"""
import os
from typing import Dict, Any

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞
BOT_TOKEN = os.getenv("BOT_TOKEN", "7796879640:AAFKi7SFuqNJKUv8hapAYFeeJsFN3OCJF0Y")

# URL –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
MINI_APP_URL = os.getenv("MINI_APP_URL", "http://localhost:3030")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DATABASE_PATH = os.getenv("DATABASE_PATH", "bot2/bot_data.db")

# –ë—É–∫–º–µ–∫–µ—Ä—ã
BOOKMAKERS = {
    '1xbet': {
        'name': '1XBET',
        'emoji': 'üéØ',
        'enabled': True
    },
    '1win': {
        'name': '1WIN', 
        'emoji': 'üèÜ',
        'enabled': True
    },
    'melbet': {
        'name': 'MELBET',
        'emoji': 'üé≤',
        'enabled': True
    },
    'mostbet': {
        'name': 'MOSTBET',
        'emoji': 'üéØ',
        'enabled': True
    }
}

# –ë–∞–Ω–∫–∏ (–∫—ã—Ä–≥—ã–∑—Å–∫–∏–µ) - –∫–∞–∫ –≤ —Å—Ç–∞—Ä–æ–º –±–æ—Ç–µ
BANKS = {
    'demirbank': {
        'name': 'DemirBank',
        'emoji': 'üè¶',
        'enabled': True,
        'bank_code': 'DEMIRBANK',
        'url_template': 'https://retail.demirbank.kg/#{qr_hash}',
        'qr_generator': 'demirbank'
    },
    'odengi': {
        'name': 'O! bank',
        'emoji': 'üü°',
        'enabled': True,
        'bank_code': 'ODENGI',
        'url_template': 'https://api.dengi.o.kg/ru/qr/#{qr_hash}',
        'qr_generator': 'generic'
    },
    'balance': {
        'name': 'Balance.kg',
        'emoji': '‚öñÔ∏è',
        'enabled': True,
        'bank_code': 'BALANCE',
        'url_template': 'https://balance.kg/#{qr_hash}',
        'qr_generator': 'generic'
    },
    'bakai': {
        'name': 'Bakai',
        'emoji': 'üè™',
        'enabled': True,
        'bank_code': 'BAKAI',
        'url_template': 'https://bakai24.app/#{qr_hash}',
        'qr_generator': 'bakai'
    },
    'megapay': {
        'name': 'MegaPay',
        'emoji': 'üí≥',
        'enabled': True,
        'bank_code': 'MEGAPAY',
        'url_template': 'https://megapay.kg/get#{qr_hash}',
        'qr_generator': 'generic'
    },
    'mbank': {
        'name': 'MBank',
        'emoji': 'üì±',
        'enabled': True,
        'bank_code': 'MBANK',
        'url_template': 'https://app.mbank.kg/qr/#{qr_hash}',
        'qr_generator': 'mbank'
    },
    'optima': {
        'name': 'Optima Bank',
        'emoji': 'üèõÔ∏è',
        'enabled': True,
        'bank_code': 'OPTIMA',
        'url_template': 'https://optima.kg/#{qr_hash}',
        'qr_generator': 'optima'
    }
}

# –õ–∏–º–∏—Ç—ã
LIMITS = {
    'min_amount': 200,
    'max_amount': 50000,
    'min_withdraw': 100,
    'max_withdraw': 100000
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
REFERRAL_SETTINGS = {
    'enabled': True,
    'bonus_percent': 5,  # 5% –æ—Ç —Å—É–º–º—ã –¥–µ–ø–æ–∑–∏—Ç–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∞
    'min_deposit_for_bonus': 500
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
NOTIFICATION_SETTINGS = {
    'admin_username': '@luxon_support',
    'admin_chat_id': None,  # –ë—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
    'notify_on_deposit': True,
    'notify_on_withdraw': True,
    'notify_on_referral': True
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API
API_SETTINGS = {
    'timeout': 30,
    'retry_attempts': 3,
    'retry_delay': 1
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOGGING_CONFIG = {
    'level': 'INFO',
    'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    'file': 'bot2/bot.log'
}

def get_config() -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
    return {
        'bot_token': BOT_TOKEN,
        'mini_app_url': MINI_APP_URL,
        'database_path': DATABASE_PATH,
        'bookmakers': BOOKMAKERS,
        'banks': BANKS,
        'limits': LIMITS,
        'referral_settings': REFERRAL_SETTINGS,
        'notification_settings': NOTIFICATION_SETTINGS,
        'api_settings': API_SETTINGS,
        'logging_config': LOGGING_CONFIG
    }
