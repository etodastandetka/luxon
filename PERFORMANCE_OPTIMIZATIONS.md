# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. Next.js –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### –ê–¥–º–∏–Ω–∫–∞ (`admin_nextjs/next.config.js`)
- ‚úÖ –í–∫–ª—é—á–µ–Ω SWC –º–∏–Ω–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–±—ã—Å—Ç—Ä–µ–µ —á–µ–º Terser)
- ‚úÖ –í–∫–ª—é—á–µ–Ω–∞ gzip –∫–æ–º–ø—Ä–µ—Å—Å–∏—è
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (AVIF, WebP)
- ‚úÖ Standalone —Ä–µ–∂–∏–º –¥–ª—è production
- ‚úÖ –û—Ç–∫–ª—é—á–µ–Ω—ã source maps –≤ production
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS

#### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–∞–π—Ç (`bot2/mini_app_site/next.config.js`)
- ‚úÖ –í–∫–ª—é—á–µ–Ω SWC –º–∏–Ω–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- ‚úÖ –í–∫–ª—é—á–µ–Ω–∞ gzip –∫–æ–º–ø—Ä–µ—Å—Å–∏—è
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (AVIF, WebP)
- ‚úÖ Standalone —Ä–µ–∂–∏–º –¥–ª—è production
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ API —Ä–æ—É—Ç–æ–≤ (10 —Å–µ–∫—É–Ω–¥)

### 2. API —Ä–æ—É—Ç—ã

#### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `/api/public/payment-settings` - –∫–µ—à 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ `/api/crypto-pay/exchange-rate` - –∫–µ—à 60 —Å–µ–∫—É–Ω–¥

### 3. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Next.js Image –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ AVIF –∏ WebP —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (60 —Å–µ–∫—É–Ω–¥)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```typescript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –ø–æ–ª–µ–π
// –í Prisma schema –¥–æ–±–∞–≤—å—Ç–µ:
model Request {
  @@index([status, createdAt])
  @@index([userId, status])
  @@index([requestType, status])
}
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

```typescript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ select –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π
const requests = await prisma.request.findMany({
  select: {
    id: true,
    userId: true,
    // —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è
  }
})
```

### 3. –ü–∞–≥–∏–Ω–∞—Ü–∏—è

```typescript
// –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
const page = parseInt(searchParams.get('page') || '1')
const limit = parseInt(searchParams.get('limit') || '10')
const skip = (page - 1) * limit
```

### 4. Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```typescript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ dynamic import –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
import dynamic from 'next/dynamic'

const HeavyComponent = dynamic(() => import('./HeavyComponent'), {
  loading: () => <div>Loading...</div>,
  ssr: false // –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω SSR
})
```

### 5. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è

```typescript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ useMemo –∏ useCallback –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
const expensiveValue = useMemo(() => {
  return computeExpensiveValue(data)
}, [data])

const handleClick = useCallback(() => {
  // –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
}, [dependencies])
```

### 6. CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —à—Ä–∏—Ñ—Ç—ã)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cloudflare –∏–ª–∏ –¥—Ä—É–≥–æ–π CDN

### 7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```typescript
// –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
export function reportWebVitals(metric: any) {
  console.log(metric)
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
}
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Lighthouse
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Lighthouse CLI
npm install -g lighthouse

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
lighthouse http://localhost:3001 --view
```

### Next.js Bundle Analyzer
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
npm install @next/bundle-analyzer

# –î–æ–±–∞–≤—å—Ç–µ –≤ next.config.js
const withBundleAnalyzer = require('@next/bundle-analyzer')({
  enabled: process.env.ANALYZE === 'true',
})

module.exports = withBundleAnalyzer(nextConfig)

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
ANALYZE=true npm run build
```

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
- ‚ö° –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 40-60%
- üì¶ –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞: —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 20-30%
- üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ 50-70% –±—ã—Å—Ç—Ä–µ–µ
- üîÑ API –∑–∞–ø—Ä–æ—Å—ã: –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ë–î

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN
3. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç—è–∂–µ–ª—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ lazy loading
5. –î–æ–±–∞–≤–∏—Ç—å –º–µ–º–æ–∏–∑–∞—Ü–∏—é –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

