# üìò –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

–ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –ø–ª–∞—Ç–µ–∂–µ–π —Å –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —Å—É–º–º–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤ –∫–∞–∑–∏–Ω–æ –±–µ–∑ —É—á–∞—Å—Ç–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

## üìÅ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

1. **`/lib/auto-deposit.ts`** - –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `matchAndProcessPayment()` - –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ï –º–µ—Å—Ç–æ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
2. **`/api/payment/route.ts`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
3. **`/api/incoming-payment/route.ts`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
4. **`/api/auto-deposit/match/route.ts`** - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

**–®–∞–≥ 1:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫—É —á–µ—Ä–µ–∑ `/api/payment` (type: 'deposit')

**–®–∞–≥ 2:** –ó–∞—è–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`

**–®–∞–≥ 3:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–≤ —Ç–æ–º –∂–µ –∑–∞–ø—Ä–æ—Å–µ):
```typescript
// –ò—â–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤—Ö–æ–¥—è—â–∏–µ –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç
// —Å —Ç–æ—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º —Å—É–º–º—ã
```

**–®–∞–≥ 4:** –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –ø–ª–∞—Ç–µ–∂:
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `matchAndProcessPayment()`
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ API –∫–∞–∑–∏–Ω–æ
- –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ ‚Üí `autodeposit_success`
- –ü–ª–∞—Ç–µ–∂ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `isProcessed: true`

**–®–∞–≥ 5:** –ï—Å–ª–∏ –ø–ª–∞—Ç–µ–∂ –Ω–µ –Ω–∞–π–¥–µ–Ω:
- –ó–∞—è–≤–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è `pending`
- –ß–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É (–µ—Å–ª–∏ –∑–∞—è–≤–∫–∞ –≤—Å–µ –µ—â–µ `pending`)

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–π –ø–ª–∞—Ç–µ–∂

**–®–∞–≥ 1:** –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–π –ø–ª–∞—Ç–µ–∂ —á–µ—Ä–µ–∑ `/api/incoming-payment`

**–®–∞–≥ 2:** –ü–ª–∞—Ç–µ–∂ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î —Å `isProcessed: false`

**–®–∞–≥ 3:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
```typescript
// –ò—â–µ—Ç –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º pending
// —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç —Å —Ç–æ—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º —Å—É–º–º—ã
```

**–®–∞–≥ 4:** –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –∑–∞—è–≤–∫–∞:
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `matchAndProcessPayment()`
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ API –∫–∞–∑–∏–Ω–æ
- –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ ‚Üí `autodeposit_success`
- –ü–ª–∞—Ç–µ–∂ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `isProcessed: true`

---

## üîß –§—É–Ω–∫—Ü–∏—è `matchAndProcessPayment()` - –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `paymentId` - ID –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
- `amount` - —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:

#### 1. –ü–æ–∏—Å–∫ –∑–∞—è–≤–æ–∫:
```typescript
// –£—Å–ª–æ–≤–∏—è –ø–æ–∏—Å–∫–∞:
- requestType: 'deposit'
- status: 'pending'
- createdAt: –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç
- incomingPayments: –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- amount: —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (—Ä–∞–∑–Ω–∏—Ü–∞ < 0.01 —Å–æ–º–∞)
```

#### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:
- –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –∑–∞—è–≤–∫–∏ —Å—Ç–∞—Ä—à–µ 5 –º–∏–Ω—É—Ç
- –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –∑–∞—è–≤–∫–∏ —Å —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏
- –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å—É–º–º—ã (–¥–æ 1 –∫–æ–ø–µ–π–∫–∏)

#### 3. –í—ã–±–æ—Ä –∑–∞—è–≤–∫–∏:
- –ë–µ—Ä–µ—Ç—Å—è —Å–∞–º–∞—è —Å—Ç–∞—Ä–∞—è –∑–∞—è–≤–∫–∞ –∏–∑ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π (FIFO - First In First Out)

#### 4. –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞:
```typescript
await depositToCasino(
  bookmaker,      // –ö–∞–∑–∏–Ω–æ (1xbet, Mostbet, etc.)
  accountId,      // ID –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ –∫–∞–∑–∏–Ω–æ
  amount,        // –°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
  requestId       // ID –∑–∞—è–≤–∫–∏
)
```

#### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è):
```typescript
// –ê—Ç–æ–º–∞—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç:
- request.status ‚Üí 'autodeposit_success'
- request.processedBy ‚Üí '–∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ'
- request.processedAt ‚Üí —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
- incomingPayment.isProcessed ‚Üí true
- incomingPayment.requestId ‚Üí ID –∑–∞—è–≤–∫–∏
```

#### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞:
- –ü–æ—Å–ª–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ —Å—Ç–∞—Ç—É—Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ `autodeposit_success`

---

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫

### 1. –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∑–∞—è–≤–∫–∞ –≤—Å–µ –µ—â–µ `pending`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø–ª–∞—Ç–µ–∂ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ë–î

### 2. –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
- –û–∫–Ω–æ 5 –º–∏–Ω—É—Ç –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å—É–º–º—ã (–¥–æ 1 –∫–æ–ø–µ–π–∫–∏)

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API –∫–∞–∑–∏–Ω–æ:
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å ‚Üí `api_error`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ `statusDetail`
- –ü–ª–∞—Ç–µ–∂ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–ª—è —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

## ‚è±Ô∏è –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –û–∫–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è: 5 –º–∏–Ω—É—Ç
- –ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ –Ω–µ –±–æ–ª–µ–µ 5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
- –ü–ª–∞—Ç–µ–∂ —Å–æ–∑–¥–∞–Ω –Ω–µ –±–æ–ª–µ–µ 5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥

### –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: 1 –º–∏–Ω—É—Ç–∞
- –ï—Å–ª–∏ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É

---

## üìä –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫

- `pending` - –æ–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `autodeposit_success` - –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
- `api_error` - –æ—à–∏–±–∫–∞ API –∫–∞–∑–∏–Ω–æ –ø—Ä–∏ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–∏
- `completed` - –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≤—Ä—É—á–Ω—É—é –∞–¥–º–∏–Ω–æ–º

---

## üîß –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è

**API:** `POST /api/auto-deposit/match`

**–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

1. **–î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞:**
```json
{
  "paymentId": 123
}
```

2. **–î–ª—è –≤—Å–µ—Ö –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å:**
```json
{}
```

---

## üéØ –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏

### 1. –ö—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–∏:
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `/api/crypto-pay/webhook`
- –ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- –°—Ç–∞—Ç—É—Å ‚Üí `autodeposit_success`

### 2. –ü—Ä–∏–≤—è–∑–∫–∞ –ø–ª–∞—Ç–µ–∂–∞ –≤—Ä—É—á–Ω—É—é:
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å –ø–ª–∞—Ç–µ–∂ –∫ –∑–∞—è–≤–∫–µ —á–µ—Ä–µ–∑ `/api/incoming-payment/[id]/link`
- –ü–æ—Å–ª–µ –ø—Ä–∏–≤—è–∑–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:
- `üîç [Auto-Deposit]` - –Ω–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- `‚úÖ [Auto-Deposit]` - —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- `‚ùå [Auto-Deposit]` - –æ—à–∏–±–∫–∏
- `‚ö†Ô∏è [Auto-Deposit]` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫—É
         ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –ø–ª–∞—Ç–µ–∂–µ–π (5 –º–∏–Ω—É—Ç)
         ‚Üì
    –ù–∞–π–¥–µ–Ω –ø–ª–∞—Ç–µ–∂?
    ‚Üô        ‚Üò
  –î–ê         –ù–ï–¢
   ‚Üì          ‚Üì
–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ  –ó–∞—è–≤–∫–∞ pending
–±–∞–ª–∞–Ω—Å–∞     ‚Üì
   ‚Üì      –ß–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É:
–°—Ç–∞—Ç—É—Å ‚Üí   –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É
autodeposit_success
```

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–∫—É–Ω–¥—É –≤ —Å–µ–∫—É–Ω–¥—É - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ –∏–ª–∏ –ø–ª–∞—Ç–µ–∂–∞

2. **–¢–æ—á–Ω–æ—Å—Ç—å:** –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–æ—á–Ω–æ–π —Å—É–º–º–µ (—Ä–∞–∑–Ω–∏—Ü–∞ < 0.01 —Å–æ–º–∞)

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –û–∫–Ω–æ 5 –º–∏–Ω—É—Ç –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –∑–∞—è–≤–æ–∫

4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ë–î –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π

5. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞:** –í—Å—è –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `matchAndProcessPayment()` –∏–∑ `/lib/auto-deposit.ts`

---

## üìå –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

1. `admin_nextjs/lib/auto-deposit.ts` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
2. `admin_nextjs/app/api/payment/route.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 642-697)
3. `admin_nextjs/app/api/incoming-payment/route.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞ (—Å—Ç—Ä–æ–∫–∏ 88-102)
4. `admin_nextjs/lib/deposit-balance.ts` - —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤ –∫–∞–∑–∏–Ω–æ

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024
**–í–µ—Ä—Å–∏—è:** 1.0






